package controllers

import com.mongodb.casbah.Imports._
import com.mongodb.casbah.Imports.ObjectId
import com.novus.salat.dao.SalatDAO
import com.novus.salat.global._

case class User(_id: ObjectId = new ObjectId,
                email: String,
                userName: String,
                password: String)

case class UserQueryParams(_id: Option[ObjectId] = None,
                           email: Option[String] = None,
                           userName: Option[String] = None,
                           password: Option[String] = None)

class UserDAO extends SalatDAO[User, ObjectId]{
  (collection= MongoConnection("localhost", 27017)("auth-service")("users"))x
}


object UserConversions {
  implicit def paramsToDBObject(params: UserQueryParams): DBObject =
    grater[UserQueryParams].asDBObject(params)

  implicit def userToDBObject(u: User): DBObject =
    grater[User].asDBObject(u)
}